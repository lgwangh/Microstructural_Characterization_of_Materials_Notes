电子衍射衬度成像
================

成像原理
--------

样品中各部分位向不同，相对同一入射束，满足布拉格条件的程度不同，因而衍射强度不同。 

对于满足双光束条件的晶粒B，总光强分配给一个透射斑和一个衍射斑；而无衍射斑的晶粒A透射光强等于总光强。有两种衍衬成像方式： 

- 明场像：在衍射模式下用光阑套住透射斑，则转到成像模式后，A亮B暗，B衬度为
  
  .. math:: \left(\frac{\Delta I}{I}\right)_B=\frac{I_{hkl}}{I_0}

- 暗场像：用光阑套住衍射斑，称为离轴案场，球差大；一般倾斜入射束，使光阑中仅有衍射斑，称为中心暗场。转到成像模式后，B亮A暗。

衍衬运动学
----------

严格满足布拉格条件时，由于在平行晶面间反复散射，透射束强度 :math:`I_T` 与衍射束强度 :math:`I_g` 交替变化，振荡的深度周期称为消光距离：

.. math:: \xi_g=\frac{\pi V_c\cos\theta}{\lambda F_g}

其中 :math:`V_c` 为晶胞体积， :math:`\theta` 为布拉格角， :math:`F_g` 为几何衍射晶面的结构因子， :math:`\lambda` 为入射束波长。

要适用运动学条件，必须满足：可以不考虑衍射束和人射束之间的相互作用；可以不考虑电子束通过晶体样品时引起的多次反射和吸收。因此有以下两个假设：

- 双光束近似：除透射束外只存在一束较强的衍射束，而这一束也有偏离矢量 :math:`\vec{s}` 。这保证了衍射束弱于透射束，且入射光强 :math:`I_0=I_g+I_T` 。可通过系统倾转满足双光束条件。
- 柱体近似：透射束和衍射束都能在一个和晶胞尺寸相当的晶柱内通过，相邻晶柱内的衍射波不相干扰。

由此可得衍衬运动学基本方程，在入射深度 :math:`z` 处，厚度元 :math:`\mathrm{d}z` 内，单位面积原子散射振幅： 

.. math:: \mathrm{d}\psi_g=\frac{i\pi}{\xi_g}e^{-2\pi isz}\mathrm{d}z

进一步得到厚度为 :math:`t` 的位置的衍射强度 

.. math:: I_g=\left[\frac{\sin(\pi st)}{s\xi_g}\right]^2 

理想晶体衍衬
------------

等厚条纹（厚度消光条纹）： :math:`\sin^2 x` 型 

- 自变量： :math:`t` 
- 周期： :math:`t_g=\frac{1}{s}`
- 最大值： :math:`\frac{1}{(s\xi_g)^2}` 
  
等倾条纹（弯曲消光条纹）： :math:`\frac{\sin^2 x}{x^2}` 型 

- 自变量： :math:`s`
- 主峰范围： :math:`-\frac{1}{t}\sim\frac{1}{t}` ，这也是通常认为晶面发生衍射所能容许的最大偏离范围
- 周期： :math:`s_g=\frac{1}{t}`
- 最大值： :math:`\left(\frac{\pi t}{\xi_g}\right)^2` 

缺陷晶体衍衬
------------

对于缺陷晶体，可认为上述厚度元发生位移 :math:`\vec{R}` ，即 :math:`\vec{r}'=\vec{r}+\vec{R}` 。则与完整晶体相比，振幅表达式中出现附加相位因子 :math:`e^{-i\alpha}` ：

.. math:: \mathrm{d}\psi_g=\frac{i\pi}{\xi_g}e^{-2\pi isz}e^{-i\alpha}\mathrm{d}z

其中附加相位角 :math:`\alpha=2\pi\vec{g}\cdot\vec{R}` ， :math:`\vec{g}` 为操作矢量。由此得到缺陷的 **不可见判据** ： :math:`\vec{g}\cdot\vec{R}=n` 为整数。并且在操作矢量反向时，明暗条纹反相。

层错衬度
++++++++

对于抽出层错，有一个反排，称为内禀层错；对于插入层错，有两个反排，称为外禀层错。两种不同类型引起的相位角变化不同，但对于同一种内禀层错类型，不同位移矢量引起的相位角的变化相同。对于FCC，内禀层错位移矢量 :math:`\vec{R}=-\frac a 3[1~1~1],\frac a 6[1~1~\bar{2}],\frac a 6[1~\bar{2}~1],\frac a 6[\bar{2}~1~1]` 。

对于含有层错的薄膜状样品： 

- 层错平行于薄膜表面（层错距上表面 :math:`t_1` ）：在层错以下的厚度存在附加相位因子 :math:`e^{-i\alpha}` ，与无层错区相比存在衬度。当 :math:`t_1=\frac n s` 时无衬度。
- 层错倾斜于薄膜表面：形成深度周期为 :math:`\frac{1}{s}` 的条纹。与倾斜孪晶界产生的条纹的区别在于：可选取适当的 :math:`\vec{g}` 使衍衬条纹消失。

位错衬度
++++++++

对于平行于薄膜表面，柏氏矢量为 :math:`\vec{b}` ，位错线方向矢量为 :math:`\vec{u}` 的位错： 

+----------+-------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
| 类型     | :math:`\vec{R}`                                                         | 理论不可见条件                                                                           |
+==========+=========================================================================+==========================================================================================+
| 螺位错   | :math:`\vec{R}=\frac{\vec{b}}{2\pi}\arctan\frac{z-y}{x}`                | :math:`\vec{g}\cdot\vec{b}=0`                                                            |
+----------+-------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
| 刃位错   | 分为平行滑移面和垂直滑移面的分量 :math:`\vec{R}_1` 和 :math:`\vec{R}_2` | :math:`\vec{g}\cdot\vec{b}=0,\vec{g}\cdot\vec{b}\times\vec{u}=0`                         |
+----------+-------------------------------------------------------------------------+------------------------------------------------------------------------------------------+
| 混合位错 | 分解为螺位错和刃位错计算                                                | :math:`\vec{g}\cdot\vec{b}=0,\vec{g}\cdot\vec{b}\times\vec{u}=0,\vec{g}\cdot\vec{b}_e=0` |
+----------+-------------------------------------------------------------------------+------------------------------------------------------------------------------------------+

实际上只要满足 :math:`\vec{g}\cdot\vec{b}=0` 就可认为不可见。因而可根据两个操作矢量确定柏氏矢量 :math:`\vec{b}\parallel\vec{g}_1\times\vec{g}_2` 。

衍衬像中位错线的像偏离真实位置。若原本 :math:`s_0>0` ，对于正刃位错，半原子面左侧附加的 :math:`s'<0` ，右侧 :math:`s'>0` ，则在位错左侧 :math:`s=0` 处衍射最强，成像于此（明场下为暗线）。

共格析出相称度
++++++++++++++

析出相中间存在无衬度线。 